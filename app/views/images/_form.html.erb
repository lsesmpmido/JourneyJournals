<%= form_with model: @image, local: true do |form| %>
  <div>
    <%= form.label :image_name, style: "display: block" %>
    <%= form.text_field :image_name, class: "form-control" %>
  </div>

  <% if action_name == 'edit' %>
    <div>
      <%= form.label :memo, style: "display: block" %>
      <%= form.text_area :memo, class: "form-control" %>
    </div>

    <div>
      <%= form.label :date_of_shooting, style: "display: block" %>
      <% if @image.date_of_shooting %>
        <%= form.datetime_local_field :date_of_shooting, class: "form-control", value: @image.date_of_shooting.in_time_zone("Asia/Tokyo").strftime('%Y-%m-%dT%H:%M') %>
      <% else %>
        <%= form.datetime_local_field :date_of_shooting, class: "form-control" %>
      <% end %>
    </div>

    <div>
      <%= form.label t('views.image.location_of_shooting'), style: "display: block" %>
      <%= form.text_field :latitude, id: "latitude", class: "form-control", style: "display: none;" %>
      <%= form.text_field :longitude, id: "longitude", class: "form-control", style: "display: none;" %>
    </div>
    <div id="map" style="width: 400px; height: 400px;"></div>
  <% end %>

  <% if action_name == 'new' %>
    <div>
      <%= form.label :file %>
      <%= form.file_field :file %>
    </div>
    <%= form.hidden_field :journal_id, value: params[:journal_id] %>
  <% end %>

  <div>
    <%= form.submit %>
  </div>
<% end %>
